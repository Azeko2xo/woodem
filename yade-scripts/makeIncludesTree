
#! /bin/sh

echo 'ORGDIR=`pwd`'					> makeSymLinkIncl
echo 'ONLYNAME=`basename $1`'				>> makeSymLinkIncl
echo 'TMPNAME=$2/$ONLYNAME'				>> makeSymLinkIncl
echo 'echo symlinking $ORGDIR/$1 to `dirname $TMPNAME`'	>> makeSymLinkIncl
echo 'TMPDIR=`dirname $TMPNAME`'			>> makeSymLinkIncl
echo 'cd $TMPDIR'					>> makeSymLinkIncl
echo 'ln -s $ORGDIR/$1 `basename $TMPNAME`'		>> makeSymLinkIncl
echo 'cd $ORGDIR'					>> makeSymLinkIncl

rm -rf ../include/*

chmod a+x ./makeSymLinkIncl

mkdir ../include/yade
mkdir ../include/yade/yade-common

find ../src/plugins/ -name "*.hpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;
find ../src/plugins/ -name "*.tpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;
find ../src/plugins/ -name "*.ipp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;

find ../src/postprocessors/ -name "*.hpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;
find ../src/postprocessors/ -name "*.tpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;
find ../src/postprocessors/ -name "*.ipp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;

find ../src/preprocessors/ -name "*.hpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;
find ../src/preprocessors/ -name "*.tpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;
find ../src/preprocessors/ -name "*.ipp" -exec ./makeSymLinkIncl {} ../include/yade/yade-common \;



mkdir ../include/yade/yade-core
find ../src/yade/ -name "*.hpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-core \;
find ../src/yade/ -name "*.tpp" -exec ./makeSymLinkIncl {} ../include/yade/yade-core \;
find ../src/yade/ -name "*.ipp" -exec ./makeSymLinkIncl {} ../include/yade/yade-core \;



symlinks -rcs ./
symlinks -rcs ./

rm ./makeSymLinkIncl

