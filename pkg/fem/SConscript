Import('*')
env.Install('$PREFIX/lib/yade$SUFFIX/pkg-fem',[

	env.SharedLibrary('FEMSetGeometry',
		['DataClass/GeometricalModel/FEMSetGeometry.cpp'],
		LIBS=env['LIBS']+['yade-base',  'yade-multimethods'],
		CPPPATH=env['CPPPATH']+['DataClass/GeometricalModel', '$PREFIX/include']),

	env.SharedLibrary('FEMNodeData',
		['DataClass/PhysicalParameters/FEMNodeData.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'ParticleParameters',
			'AABB',
			'yade-serialization',
			'yade-base',
			
			'yade-multimethods'],
		CPPPATH=env['CPPPATH']+['$PREFIX/include', 'DataClass/PhysicalParameters']),

	env.SharedLibrary('FEMSetParameters',
		['DataClass/PhysicalParameters/FEMSetParameters.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'AABB',
			'yade-serialization',
			'yade-base',
			
			'yade-multimethods'],
		CPPPATH=env['CPPPATH']+['DataClass/PhysicalParameters', '$PREFIX/include']),

	env.SharedLibrary('FEMTetrahedronData',
		['DataClass/PhysicalParameters/FEMTetrahedronData.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'FEMNodeData',
			'RigidBodyParameters',
			'AABB',
			'yade-serialization',
			'yade-base',
			
			'yade-multimethods'],
		CPPPATH=env['CPPPATH']+['$PREFIX/include',
			'DataClass/PhysicalParameters',
			'DataClass/PhysicalParameters']),

	env.SharedLibrary('FEMSet2Tetrahedrons',
		['Engine/EngineUnit/FEMSet2Tetrahedrons.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'FEMSetParameters',
			'FEMTetrahedronData',
			'ParticleParameters',
			'GeometricalModelMetaEngine',
			'Tetrahedron'],
		CPPPATH=env['CPPPATH']+['DataClass/PhysicalParameters',
			'$PREFIX/include',
			'Engine/EngineUnit',
			'DataClass/PhysicalParameters']),

	env.SharedLibrary('FEMSetTextLoader',
		['Engine/EngineUnit/FEMSetTextLoader.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'FEMSetParameters',
			'FEMTetrahedronData',
			'PhysicalParametersMetaEngine',
			'ParticleParameters',
			'RigidBodyParameters',
			'Sphere',
			'Tetrahedron'],
		CPPPATH=env['CPPPATH']+['DataClass/PhysicalParameters',
			'$PREFIX/include',
			'Engine/EngineUnit',
			'DataClass/PhysicalParameters',
			'DataClass/PhysicalParameters']),

	env.SharedLibrary('FEMTetrahedronStiffness',
		['Engine/EngineUnit/FEMTetrahedronStiffness.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'FEMSetParameters',
			'FEMTetrahedronData',
			'PhysicalParametersMetaEngine',
			'ParticleParameters'],
		CPPPATH=env['CPPPATH']+['Engine/EngineUnit',
			'$PREFIX/include',
			'DataClass/PhysicalParameters',
			'DataClass/PhysicalParameters']),

	env.SharedLibrary('FEMLaw',
		['Engine/StandAloneEngine/FEMLaw.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'FEMTetrahedronData',
			'Force',
			'ParticleParameters'],
		CPPPATH=env['CPPPATH']+['$PREFIX/include',
			'DataClass/PhysicalParameters',
			'Engine/StandAloneEngine',
			'DataClass/PhysicalParameters']),

	env.SharedLibrary('FEMBeam',
		['PreProcessor/FEMBeam.cpp'],
		LIBS=env['LIBS']+['yade-base',
			
			'FEMTetrahedronData',
			'FEMSetParameters',
			'FEMLaw',
			'FEMSetTextLoader',
			'FEMTetrahedronStiffness',
			'PhysicalActionVectorVector',
			'InteractionVecSet',
			'BodyRedirectionVector',
			'CundallNonViscousMomentumDamping',
			'CundallNonViscousForceDamping',
			'MetaInteractingGeometry',
			'GravityEngines',
			'yade-serialization',
			'yade-base',
			
			'PhysicalActionContainerInitializer',
			'PhysicalActionContainerReseter',
			'InteractionGeometryMetaEngine',
			'InteractionPhysicsMetaEngine',
			'GeometricalModelMetaEngine',
			'PhysicalActionApplier',
			'PhysicalParametersMetaEngine',
			'BoundingVolumeMetaEngine',
			'AABB',
			'Box',
			'RigidBodyParameters',
			'Sphere',
			'Tetrahedron',
			'TranslationEngine',
			'yade-multimethods'],
		CPPPATH=env['CPPPATH']+['DataClass/PhysicalParameters',
			'$PREFIX/include',
			'DataClass/PhysicalParameters',
			'Engine/StandAloneEngine',
			'DataClass/PhysicalParameters',
			'Engine/EngineUnit',
			'Engine/EngineUnit',
			'PreProcessor'])
])

