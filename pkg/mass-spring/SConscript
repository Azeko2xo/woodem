Import('*')
env.Install('$PREFIX/lib/yade$SUFFIX/pkg-mass-spring',[

	env.SharedLibrary('ParticleSetParameters',
		['DataClass/PhysicalParameters/ParticleSetParameters.cpp'],
		LIBS=env['LIBS']+['yade-base']),

	env.SharedLibrary('SpringGeometry',
		['DataClass/InteractionGeometry/SpringGeometry.cpp'],
		LIBS=env['LIBS']+['yade-base']),

	env.SharedLibrary('SpringPhysics',
		['DataClass/InteractionPhysics/SpringPhysics.cpp'],
		LIBS=env['LIBS']+['yade-base']),

	env.SharedLibrary('ParticleSet2Mesh2D',
		['Engine/EngineUnit/ParticleSet2Mesh2D.cpp'],
		LIBS=env['LIBS']+['yade-base',
			'ParticleSetParameters',
			'GeometricalModelMetaEngine',
			'Mesh2D'],
		CPPPATH=env['CPPPATH']+['DataClass/PhysicalParameters']),

	env.SharedLibrary('MassSpringLaw',
		['Engine/StandAloneEngine/MassSpringLaw.cpp'],
		LIBS=env['LIBS']+['yade-base',
			'SpringPhysics',
			'SpringGeometry',
			'ParticleParameters',
			'yade-serialization',
			'yade-multimethods',
			'Force',
			'Momentum',
			'Mesh2D'],
		CPPPATH=env['CPPPATH']+['DataClass/InteractionPhysics',
			'DataClass/InteractionGeometry']),

	env.SharedLibrary('HangingCloth',
		['PreProcessor/HangingCloth.cpp'],
		LIBS=env['LIBS']+['yade-base',
			'SpringGeometry',
			'SpringPhysics',
			'ParticleSetParameters',
			'InteractingSphere',
			'InteractingBox',
			'SDECLinkPhysics',
			'CundallNonViscousDamping',
			'CundallNonViscousDamping',
			'MacroMicroElasticRelationships',
			'yade-serialization',
			'yade-base',
			'PhysicalActionContainerInitializer',
			'PhysicalActionContainerReseter',
			'GravityEngines',
			'InteractionGeometryMetaEngine',
			'InteractionPhysicsMetaEngine',
			'GeometricalModelMetaEngine',
			'PhysicalActionApplier',
			'PhysicalParametersMetaEngine',
			'BoundingVolumeMetaEngine',
			'Mesh2D',
			'AABB',
			'Sphere',
			'ClosestFeatures',
			'PersistentSAPCollider',
			'Box',
			'SDECLinkGeometry',
			'SAPCollider',
			'RigidBodyParameters',
			'BodyMacroParameters',
			'MetaInteractingGeometry2AABB',
			'yade-multimethods',
			'MassSpringLaw',
			'ElasticContactLaw'],
		CPPPATH=env['CPPPATH']+['DataClass/InteractionPhysics',
			'Engine/StandAloneEngine',
			'Engine/EngineUnit',
			'DataClass/PhysicalParameters',
			'DataClass/InteractionGeometry'])
])

