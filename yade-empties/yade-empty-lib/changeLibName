#! /bin/sh

find . -name .svn -exec rm -rf {} \;

cd projects
cd kdevelop

mv yade-empty-lib.kdevelop $1.kdevelop

rm -f yade-empty-lib.pro

echo 'TEMPLATE=subdirs'  > $1.pro
echo 'SUBDIRS='$1	 >> $1.pro

mv yade-empty-lib $1
cd $1

rm -f yade-empty-lib.pro
 
echo "# File generated by kdevelop's qmake manager."			>   $1.pro
echo '# ------------------------------------------- '			>>  $1.pro
echo '# Subdir relative project main directory: ./'$1			>>  $1.pro
echo '# Target is a library:  ../../../bin/'$1				>>  $1.pro
echo ' '								>>  $1.pro
echo 'QMAKE_LIBDIR = /usr/local/lib/yade/yade-libs/ '			>>  $1.pro
echo 'TARGET = ../../../bin/'$1	 					>>  $1.pro
echo 'CONFIG += release \'						>>  $1.pro
echo '          warn_on \'						>>  $1.pro
echo '          dll'							>>  $1.pro
echo 'TEMPLATE = lib'							>>  $1.pro

cd ../../../..
mv yade-empty-lib $1
